<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Magic Math Master | Premium Maths Tutoring in Australia</title>
<meta name="description" content="Calm, structured maths tutoring for Prep to Year 12 in Australia. Build confidence step by step with personalised learning and clear family communication.">
<link rel="canonical" href="https://www.magicmathmaster.com.au/">

<meta property="og:title" content="Magic Math Master | Premium Maths Tutoring in Australia">
<meta property="og:description" content="Calm, structured tutoring for Prep‚ÄìYear 12. Personalised learning plans and confidence-first teaching.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.magicmathmaster.com.au/">

<style>
  /* ===== Kill horizontal scrollbar everywhere ===== */
  html, body { margin:0; padding:0; overflow-x:hidden; }
  * { box-sizing:border-box; }
  img { max-width:100%; height:auto; display:block; }

  /* === Warm cream, Philosophy-style background === */
  body{
    background:
      radial-gradient(900px 420px at 15% 10%, rgba(216,157,26,.18), transparent 55%),
      radial-gradient(900px 420px at 85% 20%, rgba(158,50,1,.10), transparent 60%),
      radial-gradient(1000px 600px at 55% 95%, rgba(33,102,89,.10), transparent 55%),
      #FFF7E8;
    font-family: Arial, sans-serif;
    color:#222;
  }

  :root{
    --blue:#0d47a1;
    --blue2:#1565c0;
    --amber:#f39c12;
    --paper:#fff6dd;
    --paperBorder:#ffd88a;
    --sky:#eaf4ff;
    --skyBorder:#9ec9ff;
    --text:#333;
    --muted:#444;
  }

  /* ===== Page width ===== */
  .mmm-page{
    max-width:100%;
    width:100%;
    margin:0 auto;
    padding:0 10px;
  }
  @media (min-width: 901px){
    .mmm-page{ padding:0 12px; }
  }

  /* ===== Top nav ===== */
  .mmm-topbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:10px 0 8px;
  }

  .mmm-nav{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:flex-start;
    align-items:center;
  }
  .mmm-nav a{
    text-decoration:none;
    font-weight:900;
    font-size:14px;
    color:var(--blue2);
    background:#fff;
    border:1px solid rgba(13,71,161,0.18);
    border-radius:999px;
    padding:8px 12px;
  }
  .mmm-nav a:hover{ background:#f3f8ff; }

  .mmm-langlink{
    border:2px solid var(--blue2);
    color:var(--blue2);
    background:#fff;
    padding:8px 14px;
    border-radius:999px;
    font-weight:900;
    cursor:pointer;
    user-select:none;
    font-size:14px;
    text-decoration:none;
    display:inline-block;
    white-space:nowrap;
  }
  .mmm-langlink:hover{ background:var(--blue2); color:#fff; }

  /* ===== Headings ===== */
  .mmm-h2{ margin:18px 0 8px; text-align:center; color:var(--blue); font-size:24px; font-weight:900; }
  .mmm-sub{ margin:0 0 16px; text-align:center; color:var(--muted); line-height:1.6; font-size:16px; }

  /* ===== HERO ===== */
  .mmm-hero{
    position:relative;
    background:#fff;
    border:2px solid rgba(13,71,161,0.12);
    border-radius:20px;
    box-shadow:0 8px 18px rgba(0,0,0,0.08);
    padding:14px 14px 12px;
    overflow:hidden;
  }
  /* playful confetti dots */
  .mmm-hero:before{
    content:"";
    position:absolute;
    inset:-2px;
    background:
      radial-gradient(circle at 10% 20%, rgba(243,156,18,.25) 0 6px, transparent 7px),
      radial-gradient(circle at 20% 70%, rgba(21,101,192,.22) 0 7px, transparent 8px),
      radial-gradient(circle at 85% 25%, rgba(46,125,50,.18) 0 6px, transparent 7px),
      radial-gradient(circle at 75% 80%, rgba(158,50,1,.14) 0 8px, transparent 9px);
    pointer-events:none;
    opacity:.9;
  }

  .mmm-hero-top{
    position:relative;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
  }
  .mmm-hero-text{ flex:1; text-align:center; min-width:0; position:relative; }
  .mmm-logo{
    width:150px;
    height:150px;
    object-fit:contain;
    background:transparent !important;
    border:none !important;
    box-shadow:none !important;
    padding:0 !important;
    border-radius:0 !important;
    flex:0 0 auto;
    position:relative;
  }
  .mmm-title{ margin:2px 0 6px; color:var(--blue); font-weight:900; letter-spacing:1px; font-size:44px; line-height:1.05; }
  .mmm-tagline{ margin:0 0 10px; color:var(--muted); font-weight:700; font-size:18px; }

  /* NEW: fun rotating words */
  .kidline{
    margin:0 auto 10px;
    max-width:920px;
    text-align:center;
    font-weight:900;
    color:var(--blue2);
    font-size:16px;
  }
  .kidword{
    display:inline-block;
    min-width:120px;
    padding:4px 10px;
    border-radius:999px;
    background:#f3f8ff;
    border:1px solid #cfe3ff;
    color:var(--blue2);
  }

  .mmm-desc{
    position:relative;
    margin:0 auto 10px;
    max-width:920px;
    color:var(--text);
    font-size:16px;
    line-height:1.45;
    text-align:center;
  }

  .mmm-checks{
    position:relative;
    margin:0 0 10px;
    color:var(--blue2);
    font-weight:800;
    font-size:16px;
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:8px 14px;
    line-height:1.35;
    text-align:center;
  }
  .mmm-pills{ display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin:6px 0 12px; position:relative; }
  .mmm-pill{
    background:var(--paper);
    border:3px solid var(--paperBorder);
    border-radius:999px;
    padding:10px 14px;
    font-weight:800;
    font-size:16px;
    color:#6b4b00;
  }

  /* NEW: bouncy buttons */
  .mmm-buttons{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; position:relative; }
  .mmm-buttons a{
    display:inline-block;
    padding:11px 18px;
    border-radius:999px;
    font-weight:900;
    font-size:16px;
    text-decoration:none;
    transform:translateY(0);
    transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
    box-shadow:0 8px 16px rgba(0,0,0,0.10);
  }
  .mmm-buttons a:hover{
    transform:translateY(-2px);
    filter:saturate(1.05);
    box-shadow:0 10px 18px rgba(0,0,0,0.14);
  }
  .btn-en_toggle{ background:#6f42c1; color:#fff; } /* NEW: kids button */
  .btn-enquire{ background:#2e7d32; color:#fff; }
  .btn-register{ background:#f9a825; color:#000; }
  .btn-detail{ background:var(--blue2); color:#fff; }

  @media (max-width:900px){
    .mmm-title{ font-size:28px; }
    .mmm-tagline{ font-size:14px; }
    .mmm-desc{ font-size:14px; }
    .kidline{ font-size:14px; }
    .mmm-checks{ font-size:13px; }
    .mmm-pill{ font-size:13px; padding:8px 10px; border-width:2px; }
    .mmm-buttons a{ font-size:14px; padding:10px 14px; }
    .mmm-logo{ width:96px; height:96px; }
  }

  /* ===== QUICK LINKS ===== */
  .mmm-quicklinks-box{
    background:#fff;
    border:2px solid rgba(13,71,161,0.14);
    border-radius:18px;
    padding:12px;
    margin:14px 0 14px;
  }
  .mmm-quicklinks-title{
    margin:0 0 8px;
    font-weight:900;
    color:var(--blue);
    font-size:16px;
    text-align:center;
  }
  .mmm-quicklinks-grid{
    display:grid;
    grid-template-columns:repeat(2, minmax(0, 1fr));
    gap:10px;
  }
  @media (max-width:520px){ .mmm-quicklinks-grid{ grid-template-columns:1fr; } }

  .mmm-qbtn{
    display:block;
    text-align:center;
    background:#f3f8ff;
    border:1px solid #cfe3ff;
    border-radius:14px;
    padding:10px 10px;
    font-weight:900;
    color:var(--blue2);
    text-decoration:none;
    cursor:pointer;
    transition:transform .12s ease, box-shadow .12s ease;
  }
  .mmm-qbtn:hover{
    transform:translateY(-1px);
    box-shadow:0 6px 12px rgba(0,0,0,0.08);
  }

  /* ===== Accordion ===== */
  details.mmm-sec{
    border:2px solid rgba(13,71,161,0.12);
    border-radius:18px;
    background:#fff;
    margin:0 0 12px;
    overflow:hidden;
    scroll-margin-top: 200px;
  }
  summary.mmm-sum{
    list-style:none;
    cursor:pointer;
    padding:14px 16px;
    font-weight:900;
    color:var(--blue);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    user-select:none;
  }
  summary.mmm-sum::-webkit-details-marker { display:none; }
  .mmm-caret{ font-weight:900; color:var(--blue2); }
  details[open] summary .mmm-caret{ transform:rotate(180deg); }
  .mmm-body{ padding:0 16px 16px; }

  /* ===== Content blocks ===== */
  .mmm-trust{
    background:var(--paper);
    border:2px solid var(--paperBorder);
    border-radius:16px;
    padding:16px 18px;
    margin:0;
    box-shadow:0 2px 4px rgba(255,200,80,0.18);
  }
  .mmm-trust h3{ margin:0 0 10px; font-size:18px; font-weight:900; color:var(--amber); }
  .mmm-trust ul{ margin:0 0 10px; padding-left:20px; line-height:1.7; }

  .mmm-grid{ display:grid; gap:14px; grid-template-columns:repeat(2, minmax(0, 1fr)); }
  @media (max-width:850px){ .mmm-grid{ grid-template-columns:1fr; } }
  .mmm-card{ background:var(--paper); border:2px solid var(--paperBorder); border-radius:18px; padding:18px; }
  .mmm-card h3{ margin:0 0 8px; font-size:18px; font-weight:900; color:var(--amber); }
  .mmm-card ul{ margin:0; padding-left:18px; line-height:1.6; }

  .mmm-why-grid{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:14px; }
  @media (max-width:900px){ .mmm-why-grid{ grid-template-columns:1fr; } }
  .mmm-why-card{ background:#fff; border:2px solid #eee; border-radius:18px; padding:16px; }
  .mmm-why-card b{ color:var(--blue2); display:block; margin-bottom:6px; }
  .mmm-why-card p{ margin:0; line-height:1.6; color:var(--text); font-size:16px; }

  .mmm-finalbox{
    background:var(--paper);
    border:2px solid var(--paperBorder);
    border-radius:18px;
    padding:18px;
    text-align:center;
  }
  .mmm-finalbox h2{ margin:0 0 8px; color:var(--blue); font-size:24px; font-weight:900; }
  .mmm-finalbox p{ margin:0 0 14px; color:var(--text); line-height:1.6; font-size:16px; }
  .mmm-final-cta{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; }
  .mmm-btn-green{ background:#2e7d32; color:#fff; padding:12px 16px; border-radius:999px; text-decoration:none; font-weight:900; }
  .mmm-btn-amber{ background:#f9a825; color:#000; padding:12px 16px; border-radius:999px; text-decoration:none; font-weight:900; }

  /* NEW: Kids mini game card */
  .kids-box{
    background:linear-gradient(135deg, rgba(243,156,18,.20), rgba(21,101,192,.12));
    border:2px solid rgba(13,71,161,0.12);
    border-radius:18px;
    padding:16px;
  }
  .kids-grid{
    display:grid;
    grid-template-columns: 1fr 340px;
    gap:14px;
    align-items:start;
  }
  @media (max-width:900px){
    .kids-grid{ grid-template-columns:1fr; }
  }
  .kids-title{
    margin:0 0 8px;
    font-size:20px;
    font-weight:900;
    color:var(--blue);
  }
  .kids-text{
    margin:0 0 10px;
    color:var(--text);
    line-height:1.6;
    font-weight:650;
  }
  .quiz-card{
    background:#fff;
    border:2px solid rgba(13,71,161,0.12);
    border-radius:16px;
    padding:14px;
    box-shadow:0 6px 14px rgba(0,0,0,0.06);
  }
  .quiz-q{
    font-weight:900;
    color:var(--blue2);
    margin:0 0 10px;
    line-height:1.4;
  }
  .quiz-ans{
    display:grid;
    gap:8px;
  }
  .quiz-ans button{
    width:100%;
    border-radius:14px;
    border:1px solid #cfe3ff;
    background:#f3f8ff;
    color:var(--blue2);
    font-weight:900;
    padding:10px 12px;
    cursor:pointer;
    transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
  }
  .quiz-ans button:hover{
    transform:translateY(-1px);
    box-shadow:0 8px 14px rgba(0,0,0,0.10);
    background:#eaf4ff;
  }
  .quiz-result{
    margin:10px 0 0;
    font-weight:900;
    border-radius:12px;
    padding:10px 12px;
    display:none;
  }
  .quiz-result.ok{ display:block; background:rgba(46,125,50,.12); color:#1b5e20; border:1px solid rgba(46,125,50,.25); }
  .quiz-result.no{ display:block; background:rgba(198,40,40,.10); color:#b71c1c; border:1px solid rgba(198,40,40,.18); }

  .mmm-link{ color:var(--blue); font-weight:900; text-decoration:none; border-bottom:1px solid rgba(13,71,161,0.35); }

  footer{
    text-align:center;
    color:#333;
    padding:18px 0 24px;
    font-size:14px;
  }

  /* NEW: "Kids Mode" toggle */
  body.kids-mode .mmm-title{ letter-spacing:2px; }
  body.kids-mode .mmm-tagline{ color:#6f42c1; }
  body.kids-mode .mmm-nav a{ background:#fff; border-color: rgba(111,66,193,.22); }
  body.kids-mode .mmm-qbtn{ background:#fff; }
</style>
</head>

<body>
<div class="mmm-page">

  <!-- TOP BAR -->
  <div class="mmm-topbar">
    <div class="mmm-nav">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="programs.html">Programs</a>
      <a href="pricing.html">Fees</a>
      <a href="contact.html">Contact</a>
    </div>
    <a class="mmm-langlink" href="vi/index.html">Ti·∫øng Vi·ªát ‚Üí</a>
  </div>

  <!-- HERO -->
  <section class="mmm-hero">
    <div class="mmm-hero-top">
      <div class="mmm-hero-text">
        <h1 class="mmm-title">MAGIC MATH MASTER</h1>
        <h2 class="mmm-tagline">Where Learning Maths Becomes Magical</h2>
      </div>

      <!-- ‚úÖ Local GitHub asset logo -->
      <a href="index.html" aria-label="Go to homepage">
        <img class="mmm-logo"
             src="assets/logo.png"
             alt="Magic Math Master logo"
             loading="lazy" />
      </a>
    </div>

    <!-- NEW: rotating fun line -->
    <div class="kidline">
      Maths can feel like <span class="kidword" id="kidWord">a game</span> üéÆ
    </div>

    <p class="mmm-desc">
      Calm, structured maths tutoring for students from <strong>Prep to Year 12</strong> ‚Äî building confidence step by step.
      Available <strong>online across Australia</strong> and <strong>in-person</strong> (where available).
    </p>

    <div class="mmm-checks">
      <span>‚úì Friendly, confidence-first</span>
      <span>‚úì Personalised learning plan</span>
      <span>‚úì Clear communication with families</span>
    </div>

    <div class="mmm-pills">
      <div class="mmm-pill">üöÄ Level up weekly</div>
      <div class="mmm-pill">üß† Smart strategies</div>
      <div class="mmm-pill">üèÜ NAPLAN ¬∑ School exams ¬∑ Extension</div>
    </div>

    <div class="mmm-buttons">
      <a class="btn-en_toggle" href="#kids" data-open="sec_kids">Kids Challenge ‚ú®</a>
      <a class="btn-enquire" href="contact.html">Enquire</a>
      <a class="btn-register" href="pricing.html">See fees</a>
      <a class="btn-detail" href="programs.html">Program details</a>
    </div>
  </section>

  <!-- QUICK LINKS -->
  <div class="mmm-quicklinks-box">
    <div class="mmm-quicklinks-title">Quick links (tap to open &amp; view)</div>
    <div class="mmm-quicklinks-grid">
      <a class="mmm-qbtn" data-open="sec_kids">Kids Challenge ‚ú®</a>
      <a class="mmm-qbtn" data-open="sec_programs">Programs</a>
      <a class="mmm-qbtn" data-open="sec_pricing">Fees</a>
      <a class="mmm-qbtn" data-open="sec_about">About Us</a>
      <a class="mmm-qbtn" data-open="sec_why">Why parents choose us</a>
      <a class="mmm-qbtn" data-open="sec_policy">Policy</a>
      <a class="mmm-qbtn" data-open="sec_contact">Contact</a>
      <a class="mmm-qbtn" data-open="sec_all">Show all</a>
    </div>
  </div>

  <!-- ‚úÖ NEW: KIDS CHALLENGE -->
  <details class="mmm-sec" id="sec_kids" open>
    <summary class="mmm-sum">Kids Challenge ‚ú® <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2" style="margin-bottom:8px;">üéÆ Quick Maths Challenge</div>

      <div class="kids-box">
        <div class="kids-grid">
          <div>
            <p class="kids-title">Kids: can you beat the timer?</p>
            <p class="kids-text">
              Try a quick challenge! If you get it right, you unlock a ‚ÄúLevel Up‚Äù message.
              (New question appears every time you refresh.)
            </p>
            <p class="kids-text" style="margin:0;">
              Parents: this is how we make maths feel fun ‚Äî clear steps + confidence first.
            </p>
          </div>

          <div class="quiz-card" aria-live="polite">
            <p class="quiz-q" id="quizQ">Loading challenge‚Ä¶</p>
            <div class="quiz-ans" id="quizA"></div>
            <div class="quiz-result" id="quizR"></div>
          </div>
        </div>
      </div>

    </div>
  </details>

  <!-- ACCORDION SECTIONS -->
  <details class="mmm-sec" id="sec_programs" open>
    <summary class="mmm-sum">Programs <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">Programs (overview)</div>
      <p class="mmm-sub">Detailed information is on the Programs page. This is a quick overview.</p>

      <div class="mmm-grid">
        <div class="mmm-card">
          <h3>üå± Primary (Prep‚ÄìYear 6)</h3>
          <ul>
            <li>Strong foundations: number sense, fluency</li>
            <li>Fractions/decimals/percentages made clear</li>
            <li>Word-problem strategies</li>
          </ul>
        </div>

        <div class="mmm-card">
          <h3>üß© Secondary (Year 7‚Äì10)</h3>
          <ul>
            <li>Algebra + core skills aligned to school topics</li>
            <li>Geometry and trigonometry foundations</li>
            <li>Assessment and revision planning</li>
          </ul>
        </div>

        <div class="mmm-card">
          <h3>üèÜ Exam & Extension</h3>
          <ul>
            <li>NAPLAN support + exam technique</li>
            <li>Reduce careless mistakes</li>
            <li>Challenge for advanced learners</li>
          </ul>
        </div>

        <div class="mmm-card">
          <h3>üë©‚Äçüè´ One-to-One or Group</h3>
          <ul>
            <li>Personalised lessons or small group tutorials</li>
            <li>Confidence and communication skills</li>
            <li>Support + extension</li>
          </ul>
        </div>
      </div>

      <p style="text-align:center; margin:14px 0 0; font-weight:900;">
        üëâ <a class="mmm-link" href="programs.html">Read full program details ‚Üí</a>
      </p>
    </div>
  </details>

  <details class="mmm-sec" id="sec_pricing" open>
    <summary class="mmm-sum">Fees <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">Fees (summary)</div>
      <div class="mmm-trust">
        <h3>Transparent pricing</h3>
        <ul>
          <li>Clear fee tiers for Primary, Secondary, and Extension.</li>
          <li>Term bookings may have discounts (optional).</li>
          <li>Online and in-person options (where available).</li>
        </ul>
        <a class="mmm-link" href="pricing.html">See full fees & options ‚Üí</a>
      </div>
    </div>
  </details>

  <details class="mmm-sec" id="sec_about" open>
    <summary class="mmm-sum">About Us <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">About Us (overview)</div>
      <div class="mmm-trust">
        <h3>Educator-led, confidence-first</h3>
        <ul>
          <li>Founded by <strong>Dr Tuyet Vu</strong>.</li>
          <li>Calm teaching that builds deep understanding ‚Äî not stress.</li>
          <li>Clear communication with families and structured learning plans.</li>
        </ul>
        <a class="mmm-link" href="about.html">Read the full About Us ‚Üí</a>
      </div>
    </div>
  </details>

  <details class="mmm-sec" id="sec_why" open>
    <summary class="mmm-sum">Why parents choose us <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">Why parents choose Magic Math Master</div>

      <div class="mmm-why-grid">
        <div class="mmm-why-card">
          <b>Clear, calm teaching</b>
          <p>Step-by-step explanations so students feel safe to ask questions and learn from mistakes.</p>
        </div>
        <div class="mmm-why-card">
          <b>Real progress you can see</b>
          <p>Targeted practice + feedback helps students build accuracy, speed, and confidence over time.</p>
        </div>
        <div class="mmm-why-card">
          <b>Family communication</b>
          <p>Parents stay informed about goals, learning focus, and what to practise next.</p>
        </div>
      </div>

      <p style="text-align:center; margin:14px 0 0; font-weight:900;">
        üëâ <a class="mmm-link" href="contact.html">Send an enquiry to get a recommended starting plan ‚Üí</a>
      </p>
    </div>
  </details>

  <details class="mmm-sec" id="sec_policy" open>
    <summary class="mmm-sum">Policy <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">Policy (summary)</div>
      <div class="mmm-trust">
        <h3>Good to know</h3>
        <ul>
          <li>Lessons are prepaid and scheduled in advance.</li>
          <li>Please provide at least <strong>24 hours‚Äô notice</strong> for cancellations or changes.</li>
          <li>We maintain a respectful, supportive learning environment.</li>
        </ul>
        <span style="font-weight:900;">(Full policy page can be added later.)</span>
      </div>
    </div>
  </details>

  <details class="mmm-sec" id="sec_contact" open>
    <summary class="mmm-sum">Contact <span class="mmm-caret">‚åÑ</span></summary>
    <div class="mmm-body">
      <div class="mmm-h2">Contact</div>

      <div class="mmm-finalbox">
        <h2>Ready to help your child feel confident in maths?</h2>
        <p>Tell us your child‚Äôs year level and goals ‚Äî we‚Äôll recommend the best starting point.</p>
        <div class="mmm-final-cta">
          <a class="mmm-btn-green" href="contact.html">Make an enquiry</a>
          <a class="mmm-btn-amber" href="pricing.html">View fees</a>
        </div>
      </div>
    </div>
  </details>

  <footer>
    ¬© 2026 Magic Math Master ‚Ä¢ Australia ‚Ä¢ <a class="mmm-link" href="contact.html">info@magicmathmaster.com.au</a>
  </footer>

</div>

<script>
  // ===== Quick links accordion control =====
  (function(){
    function isMobileLike(){ return window.matchMedia("(max-width: 900px)").matches; }

    function setAllDetails(open){
      document.querySelectorAll("details.mmm-sec").forEach(function(d){
        if(open) d.setAttribute("open","");
        else d.removeAttribute("open");
      });
    }

    function applyDefaultOpen(){
      if(isMobileLike()) setAllDetails(false);
      else setAllDetails(true);
    }
    applyDefaultOpen();

    function scrollToSection(el){
      el.scrollIntoView({ behavior:"smooth", block:"start" });

      var tries = 0;
      var maxTries = 9;

      function nudge(){
        tries++;
        var rect = el.getBoundingClientRect();
        var safeTop = 150;

        if(rect.top < safeTop){
          window.scrollBy({ top: rect.top - safeTop, left: 0, behavior: "smooth" });
        }

        if(tries < maxTries) setTimeout(nudge, 160);
      }
      setTimeout(nudge, 220);
    }

    function openAndScroll(targetId){
      if(targetId === "sec_all"){
        setAllDetails(true);
        window.scrollTo({ top: 0, behavior: "smooth" });
        return;
      }

      var el = document.getElementById(targetId);
      if(!el) return;

      if(isMobileLike()){
        setAllDetails(false);
      }
      el.setAttribute("open","");

      setTimeout(function(){ scrollToSection(el); }, 60);
    }

    document.querySelectorAll(".mmm-qbtn[data-open]").forEach(function(btn){
      btn.addEventListener("click", function(){
        openAndScroll(btn.getAttribute("data-open"));
      });
    });

    // Also allow the purple "Kids Challenge" button to open the kids section
    document.querySelectorAll("[data-open]").forEach(function(btn){
      btn.addEventListener("click", function(e){
        var id = btn.getAttribute("data-open");
        if(id && id.startsWith("sec_")){
          e.preventDefault();
          openAndScroll(id);
        }
      });
    });
  })();

  // ===== Fun rotating words in hero =====
  (function(){
    var words = ["a game", "a puzzle", "a superpower", "an adventure", "a quest", "magic"];
    var el = document.getElementById("kidWord");
    if(!el) return;

    var i = 0;
    setInterval(function(){
      i = (i + 1) % words.length;
      el.textContent = words[i];
    }, 1600);
  })();

  // ===== Mini quiz generator (kid-friendly) =====
  (function(){
    var qEl = document.getElementById("quizQ");
    var aEl = document.getElementById("quizA");
    var rEl = document.getElementById("quizR");
    if(!qEl || !aEl || !rEl) return;

    function randInt(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }
    function shuffle(arr){
      for(var i=arr.length-1;i>0;i--){
        var j=Math.floor(Math.random()*(i+1));
        var t=arr[i]; arr[i]=arr[j]; arr[j]=t;
      }
      return arr;
    }

    // Choose a gentle challenge type
    var type = randInt(1,3);

    var question = "";
    var correct = 0;

    if(type === 1){
      // addition
      var a = randInt(6, 29);
      var b = randInt(4, 19);
      correct = a + b;
      question = "‚≠ê Quick! What is " + a + " + " + b + " ?";
    } else if(type === 2){
      // multiplication small
      var m = randInt(2, 9);
      var n = randInt(2, 9);
      correct = m * n;
      question = "üöÄ Level-up: What is " + m + " √ó " + n + " ?";
    } else {
      // simple fraction reasoning
      var parts = [2,3,4,5,6][randInt(0,4)];
      correct = 1; // ‚Äúone half‚Äù etc. not numeric; we'll handle as string
      question = "üçï Pizza time! If a pizza is cut into " + parts + " equal slices, what fraction is 1 slice?";
    }

    qEl.textContent = question;

    var options = [];
    if(type === 3){
      var labels = ["1/" + parts, "1/" + (parts+1), "2/" + parts, "1/" + (parts-1)];
      options = shuffle(labels.slice(0,4));
      var correctLabel = "1/" + parts;
      renderOptions(options, correctLabel);
    } else {
      options = [correct, correct + randInt(1,4), correct - randInt(1,3), correct + randInt(5,9)];
      options = options.filter(function(x, idx, arr){ return typeof x==="number" && x>0 && arr.indexOf(x)===idx; });
      while(options.length < 4){
        options.push(correct + randInt(1,12));
        options = options.filter(function(x, idx, arr){ return x>0 && arr.indexOf(x)===idx; });
      }
      options = shuffle(options).slice(0,4);
      renderOptions(options, correct);
    }

    function renderOptions(opts, correctVal){
      aEl.innerHTML = "";
      rEl.className = "quiz-result";
      rEl.style.display = "none";
      rEl.textContent = "";

      opts.forEach(function(v){
        var btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = v;
        btn.addEventListener("click", function(){
          var ok = (String(v) === String(correctVal));
          if(ok){
            rEl.textContent = "‚úÖ Correct! You just LEVELLED UP! üéâ";
            rEl.className = "quiz-result ok";
          } else {
            rEl.textContent = "‚ùå Nice try! Try again ‚Äî you‚Äôre close üí™";
            rEl.className = "quiz-result no";
          }
        });
        aEl.appendChild(btn);
      });
    }
  })();
</script>

</body>
</html>